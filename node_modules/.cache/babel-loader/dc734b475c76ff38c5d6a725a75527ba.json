{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Project\\\\ReactJS\\\\MejaKita - Chatbot\\\\Chatbot\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './index.css';\nimport ChatBot from 'react-simple-chatbot';\nimport { ThemeProvider } from 'styled-components';\nimport theme from './styles/theme';\nimport Results from './components/Results';\nimport Search from './components/Search';\nimport MultiSearch from './components/MultiSearch';\nimport RandomTopic from './components/RandomTopic';\nimport { major, grade, bc, bc_topic, dpr, dpr_topic, topic } from './dummy/data.json';\nimport logo from './styles/logo.png';\nimport user from './styles/user.png';\nimport axios from 'axios';\nconst bcdpr = [...bc_topic, ...dpr_topic];\nconst random = bcdpr[Math.floor(Math.random() * bcdpr.length)];\nconst filter = random.hasOwnProperty('bc_id') ? bc.filter(bc => bc.id === random.bc_id) : dpr.filter(dpr => dpr.id === random.dpr_id);\nconst fixed = filter.length > 0 ? filter[0] : null;\nconst category = topic.filter(topic => topic.id == random.topic_id);\nlet badword = ['kasar', 'kotor', 'jelek', 'jorok'];\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchApi = () => {\n      axios.all([axios.get(process.env.REACT_APP_SECRET_CODE + '/grades'), axios.get(process.env.REACT_APP_SECRET_CODE + '/majors')]).then(axios.spread((...responses) => {\n        this.setState({\n          isLoaded: true,\n          grades: responses[0].data.data,\n          majors: responses[1].data\n        });\n      }));\n    };\n\n    this.fetchApi = this.fetchApi.bind(this);\n    this.state = {\n      isLoaded: false,\n      grades: [],\n      majors: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchApi();\n  }\n\n  render() {\n    const {\n      isLoaded,\n      grades,\n      majors\n    } = this.state;\n\n    if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 14\n      }, this);\n    } else {\n      console.log(grades);\n      return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n        theme: theme,\n        children: /*#__PURE__*/_jsxDEV(ChatBot, {\n          headerTitle: \"Mejakita Bot\",\n          recognitionEnable: true,\n          bubbleOptionStyle: {\n            fontFamily: 'Poppins',\n            fontSize: '12px',\n            marginLeft: '50px',\n            width: '185px',\n            paddingLeft: '20px',\n            paddingRight: '20px',\n            alignItems: 'center',\n            borderRadius: '15px',\n            backgroundColor: '#43A3D3',\n            cursor: 'pointer'\n          },\n          botAvatar: logo,\n          userAvatar: user,\n          placeholder: \"Tulis pesan disini...\" // floating={true}\n          ,\n          steps: [{\n            id: '1',\n            message: \"Hai, aku MejaKitabot!\",\n            trigger: '2'\n          }, {\n            id: '2',\n            message: \"Bolehkah MejaKitabot tahu apa yang ingin kamu lakukan?\",\n            trigger: '3'\n          }, {\n            id: '3',\n            options: [{\n              value: 'lihat',\n              label: 'Lihat materi pilihan',\n              trigger: 'level1'\n            }, {\n              value: 'cari',\n              label: 'Cari materi',\n              trigger: 'search_option'\n            }, {\n              value: 'random',\n              label: fixed ? fixed.name : '',\n              trigger: 'random_topic'\n            }]\n          }, {\n            id: 'random_topic',\n            component: /*#__PURE__*/_jsxDEV(RandomTopic, {\n              item: {\n                name: fixed.name,\n                image: fixed.image,\n                link: fixed.link,\n                category: category ? category.length > 0 ? category[0].name : null : null\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 26\n            }, this),\n            waitAction: true,\n            // asMessage: true,\n            trigger: 'rewind'\n          }, {\n            id: 'level1',\n            message: \"Sebelum mancari materi, bolehkah Mejakitabot tahu berada di jenjang manakah kamu?\",\n            trigger: 'level'\n          }, {\n            id: 're_search',\n            message: \"Ingin mencari materi lain?\",\n            trigger: 're_search_option'\n          }, {\n            id: 're_search_option',\n            options: [{\n              value: 'yes',\n              label: 'Iya',\n              trigger: 'search_option'\n            }, {\n              value: 'no',\n              label: 'Tidak',\n              trigger: 'rewind'\n            }]\n          }, {\n            id: 'search_option',\n            message: \"Silahkan kamu ketik apa yang ingin kamu cari?\",\n            trigger: 'search'\n          }, {\n            id: 'search',\n            user: true,\n            validator: value => {\n              if (value == badword.filter(word => value.toLowerCase().includes(word.toLowerCase()))) {\n                return 'Kata tidak pantas terdeteksi';\n              } else {\n                return true;\n              }\n            },\n            trigger: 'search_data'\n          }, {\n            id: 'search_data',\n            component: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 26\n            }, this),\n            waitAction: true // asMessage: true,\n\n          }, {\n            id: 'search_level',\n            options: grade.map(level => ({\n              label: level.short,\n              value: level.id,\n              trigger: 'multi_search'\n            }))\n          }, {\n            id: 'search_subject',\n            options: major.map(subject => ({\n              label: subject.short,\n              value: subject.id,\n              trigger: 'multi_search'\n            }))\n          }, {\n            id: 'level',\n            options: grade.map(level => ({\n              label: level.short,\n              value: level.id,\n              trigger: 'subject1'\n            }))\n          }, {\n            id: 'subject1',\n            message: \"Berikut beberapa mapel yang Mejakitabot punya\",\n            trigger: 'subject'\n          }, {\n            id: 'subject',\n            options: major.map(subject => ({\n              label: subject.short,\n              value: subject.id,\n              trigger: 'results'\n            }))\n          }, {\n            id: 'multi_search',\n            component: /*#__PURE__*/_jsxDEV(MultiSearch, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 26\n            }, this),\n            waitAction: true,\n            // asMessage: true,\n            trigger: 'rewind'\n          }, {\n            id: 'results',\n            component: /*#__PURE__*/_jsxDEV(Results, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 26\n            }, this),\n            waitAction: true,\n            // asMessage: true,\n            trigger: 'rewind'\n          }, {\n            id: 'rewind',\n            message: 'Apa kamu masih ingin melakukan hal lain?',\n            trigger: 'rewind_option'\n          }, {\n            id: 'rewind_option',\n            options: [{\n              value: 'yes',\n              label: 'Iya',\n              trigger: '2'\n            }, {\n              value: 'no',\n              label: 'Tidak, terima kasih',\n              trigger: 'end'\n            }]\n          }, {\n            id: 'end',\n            message: 'Terima kasih telah menggunakan layanan dari Mejakitabot.',\n            end: true\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/Project/ReactJS/MejaKita - Chatbot/Chatbot/src/App.js"],"names":["React","Component","ChatBot","ThemeProvider","theme","Results","Search","MultiSearch","RandomTopic","major","grade","bc","bc_topic","dpr","dpr_topic","topic","logo","user","axios","bcdpr","random","Math","floor","length","filter","hasOwnProperty","id","bc_id","dpr_id","fixed","category","topic_id","badword","App","constructor","props","fetchApi","all","get","process","env","REACT_APP_SECRET_CODE","then","spread","responses","setState","isLoaded","grades","data","majors","bind","state","componentDidMount","render","console","log","fontFamily","fontSize","marginLeft","width","paddingLeft","paddingRight","alignItems","borderRadius","backgroundColor","cursor","message","trigger","options","value","label","name","component","image","link","waitAction","validator","word","toLowerCase","includes","map","level","short","subject","end"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './index.css'\nimport ChatBot from 'react-simple-chatbot';\nimport { ThemeProvider } from 'styled-components';\nimport theme from './styles/theme';\nimport Results from './components/Results';\nimport Search from './components/Search';\nimport MultiSearch from './components/MultiSearch';\nimport RandomTopic from './components/RandomTopic';\nimport { major, grade, bc, bc_topic, dpr, dpr_topic, topic } from './dummy/data.json';\nimport logo from './styles/logo.png'\nimport user from './styles/user.png'\nimport axios from 'axios'\n\nconst bcdpr = [...bc_topic, ...dpr_topic]\nconst random = bcdpr[Math.floor(Math.random() * bcdpr.length)]\n\nconst filter = random.hasOwnProperty('bc_id') ? bc.filter((bc) => bc.id === random.bc_id) : dpr.filter((dpr) => dpr.id === random.dpr_id)\nconst fixed = filter.length > 0 ? filter[0] : null\nconst category = topic.filter((topic) => topic.id == random.topic_id)\nlet badword = ['kasar','kotor','jelek','jorok']\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.fetchApi = this.fetchApi.bind(this)\n    this.state = {\n      isLoaded: false,\n      grades: [],\n      majors: []\n    }\n  }\n\n  fetchApi = () => {\n    axios.all([\n      axios.get( process.env.REACT_APP_SECRET_CODE + '/grades'),\n      axios.get( process.env.REACT_APP_SECRET_CODE + '/majors')\n    ]).then(axios.spread((...responses) => {\n      this.setState({\n        isLoaded: true,\n        grades: responses[0].data.data,\n        majors: responses[1].data\n      })\n    }))\n  }\n\n  componentDidMount() {\n   this.fetchApi()\n  }\n\n  \n  render() {\n\n    const { isLoaded, grades, majors} = this.state\n    \n    if(!isLoaded) {\n      return <div>Loading...</div>\n    } else {\n      console.log(grades)\n      return (\n        <ThemeProvider theme={theme}>\n          <ChatBot \n          headerTitle=\"Mejakita Bot\"\n          recognitionEnable={true}\n          bubbleOptionStyle={{ fontFamily: 'Poppins', \n                               fontSize: '12px', \n                               marginLeft: '50px', \n                               width: '185px', \n                               paddingLeft: '20px', \n                               paddingRight: '20px', \n                               alignItems: 'center', \n                               borderRadius: '15px',\n                               backgroundColor: '#43A3D3',\n                               cursor: 'pointer'\n                            }}\n          botAvatar={logo}\n          userAvatar={user}\n          placeholder=\"Tulis pesan disini...\"\n          // floating={true}\n          \n  \n          steps={[\n            {\n              id: '1',\n              message: \"Hai, aku MejaKitabot!\",\n              trigger: '2',\n            },\n            {\n              id: '2',\n              message: \"Bolehkah MejaKitabot tahu apa yang ingin kamu lakukan?\",\n              trigger: '3',\n            },\n            {\n              id: '3',\n              options: [\n                {\n                  value: 'lihat',\n                  label: 'Lihat materi pilihan',\n                  trigger: 'level1'\n                },\n                {\n                  value: 'cari',\n                  label: 'Cari materi',\n                  trigger: 'search_option'\n                },\n                {\n                  value: 'random',\n                  label: fixed ? fixed.name : '',\n                  trigger: 'random_topic'\n                },\n              ]\n            },\n            {\n              id: 'random_topic',\n              component: <RandomTopic item={{ name: fixed.name, image: fixed.image, link: fixed.link, category: category ? (category.length > 0 ? category[0].name : null) : null }} />,\n              waitAction: true,\n              // asMessage: true,\n              trigger: 'rewind'\n            },\n            {\n              id: 'level1',\n              message: \"Sebelum mancari materi, bolehkah Mejakitabot tahu berada di jenjang manakah kamu?\",\n              trigger: 'level',\n            },\n            {\n              id: 're_search',\n              message: \"Ingin mencari materi lain?\",\n              trigger: 're_search_option'\n            },\n            {\n              id: 're_search_option',\n              options: [\n                {\n                  value: 'yes',\n                  label: 'Iya',\n                  trigger: 'search_option'\n                },\n                {\n                  value: 'no',\n                  label: 'Tidak',\n                  trigger: 'rewind'\n                },\n              ]\n            },\n            {\n              id: 'search_option',\n              message: \"Silahkan kamu ketik apa yang ingin kamu cari?\",\n              trigger: 'search',\n            },\n            {\n              id: 'search',\n              user: true,\n              validator: (value) => {\n                if (value == badword.filter(word => value.toLowerCase().includes(word.toLowerCase()))) {\n                  return 'Kata tidak pantas terdeteksi';             \n                } else {\n                  return true\n                }\n              },\n              trigger: 'search_data'\n            },\n            {\n              id: 'search_data',\n              component: <Search />,\n              waitAction: true,\n              // asMessage: true,\n            },\n            {\n              id: 'search_level',\n              options: grade.map((level) => ({ label: level.short, value: level.id, trigger: 'multi_search' })),\n            },\n            {\n              id: 'search_subject',\n              options: major.map((subject) => ({ label: subject.short, value: subject.id, trigger: 'multi_search' })),\n            },\n            {\n              id: 'level',\n              options: grade.map((level) => ({ label: level.short, value: level.id, trigger: 'subject1' })),\n            },\n            {\n              id: 'subject1',\n              message: \"Berikut beberapa mapel yang Mejakitabot punya\",\n              trigger: 'subject',\n            },\n            {\n              id: 'subject',\n              options: major.map((subject) => ({ label: subject.short, value: subject.id, trigger: 'results' })),\n            },\n            {\n              id: 'multi_search',\n              component: <MultiSearch />,\n              waitAction: true,\n              // asMessage: true,\n              trigger: 'rewind'\n            },\n            {\n              id: 'results',\n              component: <Results />,\n              waitAction: true,\n              // asMessage: true,\n              trigger: 'rewind'\n            },\n            {\n              id: 'rewind',\n              message: 'Apa kamu masih ingin melakukan hal lain?',\n              trigger: 'rewind_option'\n            },\n            {\n              id: 'rewind_option',\n              options: [\n                {\n                  value: 'yes',\n                  label: 'Iya',\n                  trigger: '2'\n                },\n                {\n                  value: 'no',\n                  label: 'Tidak, terima kasih',\n                  trigger: 'end'\n                },\n              ]\n            },\n            {\n              id: 'end',\n              message: 'Terima kasih telah menggunakan layanan dari Mejakitabot.',\n              end: true\n            },\n          ]} />\n        </ThemeProvider>\n      )\n    }\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}