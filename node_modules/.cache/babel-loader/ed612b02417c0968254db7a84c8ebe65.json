{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Project\\\\ReactJS\\\\MejaKita - Chatbot\\\\Chatbot\\\\src\\\\components\\\\Results.js\";\nimport React, { Component } from \"react\";\nimport { Loading } from \"react-simple-chatbot\"; // import { bc, bc_topic, dpr, dpr_topic, topic } from \"../dummy/data.json\";\n\nimport \"../styles/accordion.css\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { Player, Controls } from '@lottiefiles/react-lottie-player';\nimport mejakitty_sad from '../styles/mejakitty_sad.PNG';\nexport default class Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      trigger: false,\n      level: null,\n      subject: null,\n      results: []\n    };\n    this.triggerNext = this.triggerNext.bind(this);\n  }\n\n  async componentWillMount() {\n    const arrayBcs = [this.props.bcs];\n    const arrayBc_topics = [this.props.bc_topics];\n    const arrayDprs = [this.props.dprs];\n    const arrayDpr_topics = [this.props.dpr_topics];\n    const arrayTopics = [this.props.topics];\n    const bcs = arrayBcs[0];\n    const bc_topics = arrayBc_topics[0];\n    const dprs = arrayDprs[0];\n    const dpr_topics = arrayDpr_topics[0];\n    const topics = arrayTopics[0];\n    const {\n      steps\n    } = this.props;\n    const {\n      level,\n      subject\n    } = steps;\n    const results = await Promise.all([(await Promise.all(bcs.map(row => {\n      try {\n        if (row.attributes.grade_id == level.value && row.attributes.major_id == subject.value) {\n          const filter = bc_topics.filter(bc => bc.id == row.id);\n          const category = filter.length > 0 ? topics.filter(topic => topic.id == filter[0].attributes.topic_id) : false;\n          return {\n            name: row.attributes.name,\n            image: process.env.REACT_APP_SECRET_CODE + row.attributes.image.data.attributes.url,\n            link: row.attributes.link,\n            topic: category ? category.length > 0 ? category[0].attributes.name : null : null\n          };\n        }\n\n        return false;\n      } catch (error) {\n        return false;\n      }\n    }))).filter(bcs => bcs), (await Promise.all(dprs.map(row => {\n      try {\n        if (row.attributes.grade_id == level.value && row.attributes.major_id == subject.value) {\n          const filter = dpr_topics.filter(dpr => dpr.id == row.id);\n          const category = filter.length > 0 ? topics.filter(topic => topic.id == filter[0].attributes.topic_id) : false;\n          return {\n            name: row.attributes.name,\n            image: process.env.REACT_APP_SECRET_CODE + row.attributes.image.data.attributes.url,\n            link: row.attributes.link,\n            topic: category ? category.length > 0 ? category[0].attributes.name : null : null\n          };\n        }\n\n        return false;\n      } catch (error) {\n        return false;\n      }\n    }))).filter(dprs => dprs)]);\n    this.setState({\n      level,\n      subject,\n      results,\n      loading: false\n    });\n  }\n\n  triggerNext() {\n    this.setState({\n      trigger: true\n    }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  componentDidMount() {\n    this.props.triggerNextStep();\n  }\n\n  render() {\n    const {\n      loading,\n      level,\n      subject,\n      results\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this) : results.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [\"Berikut beberapa materi \", subject.message, \" pada jenjang\", \" \", level.message, \" yang Mejakitabot punya\", results.map((bcdpr, parentI) => {\n          return bcdpr.map((row, i) => {\n            const uuid = uuidv4();\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingTop: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                className: \"accordion arrows\",\n                style: {},\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"accordion\",\n                  id: `bcdpr-${parentI}-${i + 1}-${uuid}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                  className: \"box\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"box-title\",\n                    htmlFor: `bcdpr-${parentI}-${i + 1}-${uuid}`,\n                    children: row.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"box-close\",\n                    htmlFor: \"acc-close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"box-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                      children: row.topic\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 150,\n                      columnNumber: 51\n                    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `${row.image}`,\n                      alt: \"img\",\n                      style: {\n                        width: \"100%\",\n                        height: \"100%\",\n                        borderRadius: \"10px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: row.link,\n                        className: \"link btn\",\n                        children: \"Lihat lebih banyak\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 156,\n                        columnNumber: 32\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  name: \"accordion\",\n                  id: \"acc-close\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)\n            }, i + 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this);\n          });\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: 'center',\n            fontWeight: 'normal'\n          },\n          children: \"Mejakitabot tidak dapat menemukan apa yang kamu cari\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: mejakitty_sad,\n          style: {\n            width: 'auto',\n            height: '150px',\n            margin: 'auto',\n            display: 'block'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/Project/ReactJS/MejaKita - Chatbot/Chatbot/src/components/Results.js"],"names":["React","Component","Loading","v4","uuidv4","Player","Controls","mejakitty_sad","Results","constructor","props","state","loading","trigger","level","subject","results","triggerNext","bind","componentWillMount","arrayBcs","bcs","arrayBc_topics","bc_topics","arrayDprs","dprs","arrayDpr_topics","dpr_topics","arrayTopics","topics","steps","Promise","all","map","row","attributes","grade_id","value","major_id","filter","bc","id","category","length","topic","topic_id","name","image","process","env","REACT_APP_SECRET_CODE","data","url","link","error","dpr","setState","triggerNextStep","componentDidMount","render","width","flex","message","bcdpr","parentI","i","uuid","paddingTop","height","borderRadius","alignItems","justifyContent","textAlign","fontWeight","margin","display"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Loading } from \"react-simple-chatbot\";\n// import { bc, bc_topic, dpr, dpr_topic, topic } from \"../dummy/data.json\";\nimport \"../styles/accordion.css\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { Player, Controls } from '@lottiefiles/react-lottie-player';\nimport mejakitty_sad from '../styles/mejakitty_sad.PNG'\n\nexport default class Results extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      trigger: false,\n      level: null,\n      subject: null,\n      results: [],\n    };\n\n    this.triggerNext = this.triggerNext.bind(this);\n  }\n\n  async componentWillMount() {\n\n    const arrayBcs = [this.props.bcs]\n        const arrayBc_topics = [this.props.bc_topics]\n        const arrayDprs = [this.props.dprs]\n        const arrayDpr_topics = [this.props.dpr_topics]\n        const arrayTopics = [this.props.topics]\n\n        const bcs = arrayBcs[0]\n        const bc_topics = arrayBc_topics[0]\n        const dprs = arrayDprs[0]\n        const dpr_topics = arrayDpr_topics[0]\n        const topics = arrayTopics[0]\n\n    const { steps } = this.props;\n    const { level, subject } = steps;\n\n    const results = await Promise.all([\n      (\n        await Promise.all(\n          bcs.map((row) => {\n            try {\n              if (\n                row.attributes.grade_id == level.value &&\n                row.attributes.major_id == subject.value\n              ) {\n                const filter = bc_topics.filter((bc) => bc.id == row.id);\n                const category =\n                  filter.length > 0\n                    ? topics.filter((topic) => topic.id == filter[0].attributes.topic_id)\n                    : false;\n                return {\n                  name: row.attributes.name,\n                  image: process.env.REACT_APP_SECRET_CODE + row.attributes.image.data.attributes.url,\n                  link: row.attributes.link,\n                  topic: category\n                    ? category.length > 0\n                      ? category[0].attributes.name\n                      : null\n                    : null,\n                };\n              }\n              return false;\n            } catch (error) {\n              return false;\n            }\n          })\n        )\n      ).filter((bcs) => bcs),\n      (\n        await Promise.all(\n          dprs.map((row) => {\n            try {\n              if (\n                row.attributes.grade_id == level.value &&\n                row.attributes.major_id == subject.value\n              ) {\n                const filter = dpr_topics.filter((dpr) => dpr.id == row.id);\n                const category =\n                  filter.length > 0\n                    ? topics.filter((topic) => topic.id == filter[0].attributes.topic_id)\n                    : false;\n                return {\n                  name: row.attributes.name,\n                  image: process.env.REACT_APP_SECRET_CODE + row.attributes.image.data.attributes.url,\n                  link: row.attributes.link,\n                  topic: category\n                    ? category.length > 0\n                      ? category[0].attributes.name\n                      : null\n                    : null,\n                };\n              }\n              return false;\n            } catch (error) {\n              return false;\n            }\n          })\n        )\n      ).filter((dprs) => dprs),\n    ]);\n    this.setState({ level, subject, results, loading: false });\n  }\n\n  triggerNext() {\n    this.setState({ trigger: true }, () => {\n      this.props.triggerNextStep();\n    });\n  }\n\n  componentDidMount() {\n    this.props.triggerNextStep();\n  }\n\n  render() {\n    const { loading, level, subject, results } = this.state;\n    return (\n      <div style={{ width: \"100%\" }}>\n        {loading ? (\n          <Loading />\n        ) : results.length > 0 ? (\n          <div style={{flex: 1}}>\n            Berikut beberapa materi {subject.message} pada jenjang{\" \"}\n            {level.message} yang Mejakitabot punya\n            {results.map((bcdpr, parentI) => {\n              return bcdpr.map((row, i) => {\n                const uuid = uuidv4()\n                return (\n                <div key={i + 1} style={{ paddingTop: 12}}>\n                  <nav className=\"accordion arrows\" style={{}}>\n                    <input\n                      type=\"radio\"\n                      name=\"accordion\"\n                      id={`bcdpr-${parentI}-${i + 1}-${uuid}`}\n                    />\n                    <section className=\"box\">\n                      <label\n                        className=\"box-title\"\n                        htmlFor={`bcdpr-${parentI}-${i + 1}-${uuid}`}\n                      >\n                        {row.name}\n                      </label>\n                      <label\n                        className=\"box-close\"\n                        htmlFor=\"acc-close\"\n                      ></label>\n                      <div className=\"box-content\">\n                        <small>{row.topic}</small><br/>\n                        <img\n                          src={`${row.image}`}\n                          alt=\"img\"\n                          style={{ width: \"100%\", height: \"100%\", borderRadius: \"10px\" }}\n                        />\n                        <small><a href={row.link} className='link btn'>Lihat lebih banyak</a></small>\n                      </div>\n                    </section>\n                    <input type=\"radio\" name=\"accordion\" id=\"acc-close\" />\n                  </nav>\n                </div>\n                )\n              });\n            })}\n          </div>\n        ) : (<div style={{ alignItems: 'center', justifyContent: 'center' }}>\n                <p style={{ textAlign: 'center', fontWeight: 'normal'}}>Mejakitabot tidak dapat menemukan apa yang kamu cari</p>\n                <img src={mejakitty_sad} style={{ width: 'auto', height: '150px', margin: 'auto', display: 'block' }} />\n            </div>)}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}